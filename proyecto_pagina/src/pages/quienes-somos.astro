---
import { getCollection, type CollectionEntry } from "astro:content";
import BaseLayout from "@/layouts/BaseLayout.astro";

type QuienesEntry = CollectionEntry<"quienesSomos">;

const integrantes = await getCollection("quienesSomos");

// Ordenar por fecha
integrantes.sort(
  (a: QuienesEntry, b: QuienesEntry) =>
    b.data.date.getTime() - a.data.date.getTime()
);
---


<BaseLayout>
  <div class="flex flex-col justify-center items-center mt-10">
    <div class="mx-auto text-2xl md:text-3xl font-bold text-center mb-2">
      Quiénes Somos
    </div>

    <div class="mx-auto w-3/4 text-lg text-gray-700 bg-blue-50 rounded-xl p-6 mb-8 shadow">
      El <b>Grupo de Investigación en Historia</b> está dedicado al estudio, análisis y difusión de procesos históricos locales y globales. Nuestro objetivo es fomentar el pensamiento crítico, la investigación rigurosa y la divulgación del conocimiento histórico en la comunidad académica y el público en general.
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 p-4 w-3/4 justify-center gap-8">
      {integrantes.map((persona) => {
        const { data } = persona;
        return (
          <div class="shadow-lg rounded-xl p-8 bg-white border-2 border-blue-200 flex flex-col items-center hover:bg-blue-50 transition">
            <div class="text-2xl font-bold mb-2 text-blue-900">{data.name}</div>
            <div class="text-blue-700 mb-2 italic">{data.role}</div>
            <div class="text-gray-500 text-sm mb-4">{data.date.toLocaleDateString()}</div>
            <div class="text-gray-800">{data.description}</div>
          </div>
        );
      })}
    </div>
  </div>
</BaseLayout>